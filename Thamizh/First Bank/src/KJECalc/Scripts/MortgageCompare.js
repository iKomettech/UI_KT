
KJE.Default.TaxRate=24;KJE.Default.TaxRateRetire=22;KJE.Default.TaxRateCapGain=15;KJE.Default.StateTaxRate=8;KJE.Default.IncomeTaxTableCurrent="Use the &lsquo;Filing Status and Federal Income Tax Rates on Taxable Income&rsquo; table to assist you in estimating your Federal tax rate.<div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Filing Status and Federal Income Tax Rates on Taxable Income for 2024<sup>*</sup></caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading KJECell10'>Tax Rate</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Jointly or Qualified Surviving Spouse</th><th scope='col' class='KJEHeading KJECell225'>Single</th><th scope='col' class='KJEHeading KJECell225'>Head of Household</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Separately</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>10%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$23,200</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$11,600</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$16,550</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$11,600</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>12%</th><td class='KJECell KJECellBorder'>$23,200 -&nbsp;$94,300</td><td class='KJECell KJECellBorder'>$11,600 -&nbsp;$47,150</td><td class='KJECell KJECellBorder'>$16,550 -&nbsp;$63,100</td><td class='KJECell'>$11,600 -&nbsp;$47,150</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>22%</th><td class='KJECell KJECellBorder'>$94,300 -&nbsp;$201,050</td><td class='KJECell KJECellBorder'>$47,150 -&nbsp;$100,525</td><td class='KJECell KJECellBorder'>$63,100 -&nbsp;$100,500</td><td class='KJECell'>$47,150 -&nbsp;$100,525</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>24%</th><td class='KJECell KJECellBorder'>$201,050 -&nbsp;$383,900</td><td class='KJECell KJECellBorder'>$100,525 -&nbsp;$191,950</td><td class='KJECell KJECellBorder'>$100,500 -&nbsp;$191,950</td><td class='KJECell'>$100,525 -&nbsp;$191,950</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>32%</th><td class='KJECell KJECellBorder'>$383,900 -&nbsp;$487,450</td><td class='KJECell KJECellBorder'>$191,950 -&nbsp;$243,725</td><td class='KJECell KJECellBorder'>$191,950 -&nbsp;$243,700</td><td class='KJECell'>$191,950 -&nbsp;$243,725</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>35%</th><td class='KJECell KJECellBorder'>$487,450 -&nbsp;$731,200</td><td class='KJECell KJECellBorder'>$243,725 -&nbsp;$609,350</td><td class='KJECell KJECellBorder'>$243,700 -&nbsp;$609,350</td><td class='KJECell'>$243,725 -&nbsp;$365,600</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>37%</th><td class='KJECell KJECellBorder'>Over &nbsp;$731,200</td><td class='KJECell KJECellBorder'>Over &nbsp;$609,350</td><td class='KJECell KJECellBorder'>Over &nbsp;$609,350</td><td class='KJECell'>Over &nbsp;$365,600</td></tr></tbody><tfoot class='KJEReportTFooter'><tr class=KJEFooterRow><td class='KJECell KJECenterText' COLSPAN='5'><sup>*</sup>Caution: Do not use these tax rate schedules to figure 2023 taxes. Use only to figure 2024 estimates. Source: Rev. Proc. 2023-34</td></tr></tfoot></table></div>";KJE.Default.StandardDeductionCurrent="<div class='KJEReportTableDiv'><table class='KJEReportTable'><caption class='KJEHeaderRow KJEHeading'>Standard Deduction for 2024 Federal Income Tax</caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading KJECell60'>Filing Status</th><th scope='col' class='KJEHeading KJECell40'>Standard Deduction</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Married Filing Joint</th><td class='KJECell'>$29,200</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Qualified Surviving Spouse</th><td class='KJECell'>$29,200</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Single</th><td class='KJECell'>$14,600</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Heads of Household</th><td class='KJECell'>$21,900</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Married Filing Separately</th><td class='KJECell'>$14,600</td></tr></tbody></table></div><p>Your standard deduction is increased if you or your spouse are blind or over age 65.";KJE.Default.CapitalGainsRatesCurrent="Long-term capital gains are taxed at lower, special capital gains rates and are calculated as follows (note that qualified dividends are taxed as if they were a long-term capital gain):<ul><li>Calculate your total taxable income without long-term capital gains. </li><li>Use this amount to determine the rate for your long-term gain, up to the top of the bracket.</li><li>The portion of your long-term capital gain that exceeds a bracket will be taxed at the next higher rate.</li><li>This calculator assumes that none of your long-term capital gains come from collectibles, section 1202 gains or un-recaptured 1250 gains.  These types of capital gains are taxed at 28%, 28% and 25% respectively (unless your ordinary income tax bracket is a lower rate).</li></ul><div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Long-term Capital Gain Tax Rates 2024<sup>*</sup></caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading'>Tax Rate</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Jointly or Qualified Surviving Spouse</th><th scope='col' class='KJEHeading KJECell225'>Single</th><th scope='col' class='KJEHeading KJECell225'>Head of Household</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Separately</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>0%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$94,050</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$47,025</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$63,000</td><td class='KJECell'>$0 -&nbsp;$47,025</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>15%</th><td class='KJECell KJECellBorder'>$94,050 -&nbsp;$583,750</td><td class='KJECell KJECellBorder'>$47,025 -&nbsp;$518,900</td><td class='KJECell KJECellBorder'>$63,000 -&nbsp;$551,350</td><td class='KJECell'>$47,025 -&nbsp;$291,850</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>20%</th><td class='KJECell KJECellBorder'>Over $583,750</td><td class='KJECell KJECellBorder'>Over $518,900</td><td class='KJECell KJECellBorder'>Over $551,350</td><td class='KJECell'> Over $291,850</td></tr></tbody><tfoot class='KJEReportTFooter'><tr class=KJEFooterRow><td class='KJECell KJECenter' COLSPAN='5'><sup>*</sup>Caution: Do not use these tax rate schedules to figure 2023 taxes. Use only to figure 2024 estimates. Source: Rev. Proc. 2023-34</td></tr></tfoot></table></div>";KJE.Default.IncomeTaxTableTaxYear=KJE.Default.IncomeTaxTableCurrent;KJE.Default.StandardDeductionTaxYear=KJE.Default.StandardDeductionCurrent;KJE.Default.CapitalGainsRatesTaxYear=KJE.Default.CapitalGainsRatesCurrent;KJE.definitions.set("**TAXCAPGAINS_CURRENT_DEFINITION**",KJE.Default.CapitalGainsRatesCurrent);KJE.definitions.set("**TAXCAPGAINS_TAXYEAR_DEFINITION**",KJE.Default.CapitalGainsRatesTaxYear);KJE.definitions.set("**TAXTABLE_CURRENT_DEFINITION**",KJE.Default.IncomeTaxTableCurrent);KJE.definitions.set("**TAXTABLE_TAXYEAR_DEFINITION**",KJE.Default.IncomeTaxTableTaxYear);KJE.definitions.set("**STANDARDDEDUCTION_CURRENT_DEFINITION**",KJE.Default.StandardDeductionCurrent);KJE.definitions.set("**STANDARDDEDUCTION_TAXYEAR_DEFINITION**",KJE.Default.StandardDeductionTaxYear);KJE.MortgageLoanCalculation=function(){this.MSG_ERROR_MAPR=KJE.parameters.get("","KJE1 MAPR exceeds allowable maximum of 36%, adjust fees to reduce the calculated MAPR.");this.bMAPR=KJE.parameters.get("USE_MAPR",false);this.bTERMINMONTHS=KJE.parameters.get("TERM_IN_MONTHS",false);this.MSG_YEAR_NUMBER=KJE.parameters.get("MSG_YEAR_NUMBER","Year Number");this.MSG_POP_PRINCIPAL=KJE.parameters.get("MSG_POP_PRINCIPAL","Total Principal for");this.MSG_POP_INTEREST=KJE.parameters.get("MSG_POP_INTEREST","Total Interest for");this.MSG_PRINCIPAL=KJE.parameters.get("MSG_PRINCIPAL","Principal");this.MSG_INTEREST=KJE.parameters.get("MSG_INTEREST","Interest");this.MSG_PRINCIPAL_BALANCE=KJE.parameters.get("MSG_PRINCIPAL_BALANCE","Principal Balance");this.MSG_POP_PRINCIPAL_NORMAL=KJE.parameters.get("MSG_POP_PRINCIPAL_NORMAL","Principal Balance for Normal Payments Year");this.MSG_POP_PRINCIPAL_PREPAY=KJE.parameters.get("MSG_POP_PRINCIPAL_PREPAY","Principal Balance for Prepayments Year");this.MSG_PREPAYMENTS=KJE.parameters.get("MSG_PREPAYMENTS","Prepayments");this.MSG_NORMAL_PAYMENTS=KJE.parameters.get("MSG_NORMAL_PAYMENTS","Normal");this.MSG_PREPAY_MESSAGE=KJE.parameters.get("MSG_PREPAY_MESSAGE","Your planned prepayment(s) will shorten your mortgage by PREPAY_SHORTEN_TERM.");this.MSG_RETURN_PAYMENT=KJE.parameters.get("MSG_RETURN_PAYMENT","A loan amount of LOAN_AMOUNT at INTEREST_RATE for TERM years will give you a monthly payment (PI) of MONTHLY_PI.");this.MSG_ERROR_BALLOON=KJE.parameters.get("MSG_ERROR_BALLOON","Loan term must be less than the amortization term.");this.PITI_PERCENT=KJE.parameters.get("PITI_PERCENT",false);this.SHOW_PITI=KJE.parameters.get("SHOW_PITI",false);this.USE_OTHER_FEES_AMOUNT=KJE.parameters.get("USE_OTHER_FEES_AMOUNT",true);this.ADJUSTABLE_RATE=false;this.PMI_CALCULATE=KJE.parameters.get("PMI_CALCULATE",false);this.PMI_RATE=KJE.parameters.get("PMI_RATE",0.5);this.MONTHLY_PMI=KJE.parameters.getSet("MONTHLY_PMI",0);this.PMI_PERCENTAGE=KJE.parameters.get("PMI_PERCENTAGE",0.2);this.oldLOAN_AMOUNT=0;this.oldDOWNPAYMENT_20=0;this.OTHER_FEES_MAPR=KJE.FloatArray(5);this.sSchedule=new KJE.Repeating();this.sAdjSchedule=null};KJE.MortgageLoanCalculation.prototype.clear=function(){for(var a=0;a<this.OTHER_FEES_MAPR.length;a++){this.OTHER_FEES_MAPR[a]=0}this.ADJUSTABLE_RATE_CAP=0;this.ADJUSTABLE_RATE_FEQ=12;this.ADJUSTABLE_RATE_FIXED=0;this.ADJUSTABLE_RATE_INCR=0;this.BALLOON_PAYMENT=0;this.DISCOUNT_POINTS_PERCENT=0;this.FEDERAL_TAX_RATE=0;this.INFLATION_RATE=3;this.INTEREST_ONLY=false;this.INTEREST_RATE=0;this.LOAN_AMOUNT=0;this.MARGINAL_TAX_RATE=0;this.MSG_TERM="";this.ORIGINATION_FEES_PERCENT=0;this.OTHER_FEES=0;this.OTHER_FEES_RATE=0;this.PREPAY_AMOUNT=0;this.PREPAY_BALLOON_PAYMENT=0;this.PREPAY_STARTS_WITH=1;this.PREPAY_TYPE=KJE.Default.PREPAY_NONE;this.PURCHASE_PRICE=0;this.DOWNPAYMENT=0;this.RATE_INDEX=0;this.RATE_INDEX_MARGIN=0;this.RECAST_TO_AMORTIZE=1000000;this.SAVINGS_RATE=0;this.STATE_TAX_RATE=0;this.TERM=0;this.TERM_BALLOON=0;this.YEARS_IN_HOME=0;this.YEARLY_HOME_INSURANCE=0;this.YEARLY_PROPERTY_TAXES=0;this.MONTHLY_HOME_ASSOCIATION=0;this.BY_YEAR=true};KJE.MortgageLoanCalculation.prototype.calculate=function(h){var aH=KJE;var V=this.ADJUSTABLE_RATE_CAP;var aO=this.ADJUSTABLE_RATE_FEQ;var m=this.ADJUSTABLE_RATE_FIXED;var M=this.ADJUSTABLE_RATE_INCR;var b=this.ADJUSTABLE_RATE;var aK=this.BALLOON_PAYMENT;var bn=this.bTERMINMONTHS;var X=this.DISCOUNT_POINTS_PERCENT;var aW=this.FEDERAL_TAX_RATE;var D=this.INFLATION_RATE;var ad=this.INTEREST_ONLY;var a2=this.INTEREST_RATE;var a7=this.LOAN_AMOUNT;var P=this.MARGINAL_TAX_RATE;var at=this.ORIGINATION_FEES_PERCENT;var O=this.OTHER_FEES_RATE;var Y=this.OTHER_FEES;var a5=this.OTHER_FEES_MAPR;var Q=this.PREPAY_AMOUNT;var d=this.PREPAY_BALLOON_PAYMENT;var bc=this.PREPAY_STARTS_WITH;var w=this.PREPAY_TYPE;var ae=this.PURCHASE_PRICE;var a8=this.DOWNPAYMENT;var aC=this.RATE_INDEX_MARGIN;var t=this.RATE_INDEX;var aL=this.RECAST_TO_AMORTIZE;var k=this.SAVINGS_RATE;var Z=this.STATE_TAX_RATE;var ax=this.TERM_BALLOON;var W=this.TERM;var I=this.YEARLY_HOME_INSURANCE;var aF=this.YEARLY_PROPERTY_TAXES;var aj=this.YEARS_IN_HOME;var al=this.BY_YEAR;var N="";var S=0;var j="";var ba=0;var bk=0;var E=0;var p=0;var ah=0;var aB=0;var bg=0;var aP=0;var ak=0;var aS=0;var bb=0;var l=0;var o=0;var U=this.MONTHLY_PMI;var f=0;var aI=0;var bh;var e=0;var R=0;var a1=0;var bq="";var ag=0;var aT=0;var bj=0;var av=0;var a9=0;var bd=0;var bi=0;var bw=0;var ay=0;var bl=0;var bf=0;var c=0;var be=0;var T=0;var af=0;var g=0;var aV=KJE.Default.MORTGAGE_TAX_DEDUCT_MAX_BALANCE;var a8=this.DOWNPAYMENT;var ae=this.PURCHASE_PRICE;if(ae==0&&!this.PMI_CALCULATE){ae=a7}else{a7=ae-a8;if(a7<0){a7=0}}if(this.PITI_PERCENT&&this.SHOW_PITI){this.YEARLY_PROPERTY_TAXES=aH.round((this.YEARLY_PROPERTY_TAXES/100)*ae);this.YEARLY_HOME_INSURANCE=aH.round((this.YEARLY_HOME_INSURANCE/100)*ae)}var a6=ae*this.PMI_PERCENTAGE;if(this.PMI_CALCULATE&&(a6!=this.oldDOWNPAYMENT_20||a7!=this.oldLOAN_AMOUNT)){if(a6>a8){U=a7*(this.PMI_RATE/1200)}else{U=0}}this.oldLOAN_AMOUNT=a7;this.oldDOWNPAYMENT_20=a6;if(bn){this.MONTHS=af=W%12;this.TERM=W=Math.floor(W/12)}var y=this.TOTAL_MONTHS=af+W*12;if(P==0){P=((Z/100)*(1-aW/100))*100+aW}if(ad){l=aH.round((a2/1200*a7),2)}else{l=aH.round(KJE.PMT(a2/1200,W*12+af,a7),2)}N=this.MSG_RETURN_PAYMENT;if(aj==0){aj=W+(af/12)}else{if(aj>W){aj=W+(af/12)}}var J=aj*12;if(!this.USE_OTHER_FEES_AMOUNT){Y=aH.round((O/100)*a7,2)}E=aH.round((X/100)*a7,2);aI=aH.round((at/100)*a7,2);bw=E+aI+Y;var C=0;for(var aA=0;aA<a5.length;aA++){C+=a5[aA]}bw+=C;aS=(a7/ae);bb=aH.round(I/12,2);f=aH.round(aF/12,2);MONTHLY_HOME_ASSOCIATION=this.MONTHLY_HOME_ASSOCIATION;o=bb+f+MONTHLY_HOME_ASSOCIATION+l+U;ah=aH.round((a2/1200)*a7,2);aB=(ad?0:l-ah);var v=a2/1200;var aR=P/100;var B=k/1200;g=(t+aC)/100;if(b&&g!=a2/100&&g!=0){if(a7<=0){bl=0}else{bl=KJE.MortgageLoanCalculation.APRAdjustable(W*12+af,a7-(!this.bMAPR?0:bw),bw,a2/100,m,aO,g,M/100,V)}}else{if(a7<=0){bl=0}else{bl=KJE.APR(W*12+af,l,v,a7-(!this.bMAPR?0:bw),bw)*12}}bf=aH.round(KJE.PMT(v,W*12+af,a7+(this.bMAPR?0:bw)),2);c=a7+(this.bMAPR?0:bw);bi=(a2/100)*(1-(aR*(a7>aV?aV/a7:1)));be=(bl)*(1-(aR*(a7>aV?aV/a7:1)));ay=0;ak=0;var az=false;if(ax>0){if(ax>W){throw this.MSG_ERROR_BALLOON}az=true}if(ad&&aL<ax){ax=W;az=true}var aE=Math.round(az?ax:W)+1;var aA=0;var aJ=this.DS_PRINCIPAL_BAL=KJE.FloatArray(aE);var aD=this.DS_PREPAY_PRINCIPAL_BAL=KJE.FloatArray(aE);var aY=this.DS_INTEREST_PAID=KJE.FloatArray(aE);var a4=this.DS_PAYMENTS=KJE.FloatArray(aE);var z=new Array(aE);var x=true;var a0=aF;av=(w==KJE.Default.PREPAY_ONETIME&&bc==0?Q:0);var bp=a7-av;var aX=0;var aG=0;var bu=0;var F=0;var ar=0;var aZ=(ad?ah:l);var bm=0;var K=0;var aQ=a7;var aw=0;var aq=0;var A=0;var bv=0;var L=0;var aa=l;var a3=0;var bs=0;var bo=0;var u=0;var ab=0;var bt=0;if(w==KJE.Default.PREPAY_NONE){x=false}if(bc==0&&w!=KJE.Default.PREPAY_ONETIME){bc=1}var ap=0;z[ap]="0";aD[ap]=bp;aJ[ap]=a7;aY[ap]=0;a4[ap]=0;ap+=1;if(h){var am=this.sSchedule;am.clearRepeat();if(x){am.addHeader("&nbsp;",{sCell:KJE._sHeadingUnderline,sContent:am.sReportCol("Regular Payment Schedule",10),sFormat:"COLSPAN=3"},{sCell:KJE._sHeadingUnderline,sContent:am.sReportCol("Prepayment Payment Schedule",11),sFormat:"COLSPAN=3"})}if(!al&&x){am.addHeader(am.sReportCol("<BR><BR>Nbr",1),am.sReportCol("<BR><BR>Payment",2),am.sReportCol("<BR><BR>Interest",4),am.sReportCol("Ending<BR>Principal<BR>Balance",5),am.sReportCol("<BR><BR>Payment",2),am.sReportCol("<BR><BR>Interest",4),am.sReportCol("Ending<BR>Principal<BR>Balance",5))}else{if(!al&&!x){am.addHeader(am.sReportCol("<BR><BR>Nbr",1),am.sReportCol("<BR><BR>Payment",2),am.sReportCol("<BR><BR>Principal",3),am.sReportCol("<BR><BR>Interest",4),am.sReportCol("Ending<BR>Principal<BR>Balance",5))}else{if(al&&x){am.addHeader(am.sReportCol("<BR><BR>Yr ",6),am.sReportCol("<BR>Total<BR>Payments",7),am.sReportCol("<BR>Interest<BR>Paid",8),am.sReportCol("Ending<BR>Principal<BR>Balance",5),am.sReportCol("<BR>Total<BR>Payments",7),am.sReportCol("<BR>Interest<BR>Paid",8),am.sReportCol("Ending<BR>Principal<BR>Balance",5))}else{am.addHeader(am.sReportCol("<BR><BR>Year",6),am.sReportCol("<BR>Total<BR>Payments",7),am.sReportCol("<BR>Principal<BR>Paid",9),am.sReportCol("<BR>Interest<BR>Paid",8),am.sReportCol("Ending<BR>Principal<BR>Balance",5))}}}if(x){am.addRepeat("&nbsp;","&nbsp;","&nbsp;",aH.dollars(aQ,2),(w==KJE.Default.PREPAY_ONETIME&&bc==0?aH.dollars(Q,2):""),"&nbsp;","&nbsp;",aH.dollars(bp,2))}else{am.addRepeat("&nbsp;","&nbsp;","&nbsp;","&nbsp;",aH.dollars(aQ,2))}}ba=l;var aN=l;var ac=l;var br=a2/100;var ao=a2/100;var aU=0;if(b&&M!=0){if(this.sAdjSchedule==null){this.sAdjSchedule=new KJE.Repeating()}var H=this.sAdjSchedule;H.clearRepeat();H.addHeader(H.sReportCol("Payment Number",12),H.sReportCol("Interest Rate",13),H.sReportCol("Monthly Payment",14));H.addRepeat("1",aH.percent(ao,2),aH.dollars(l,2))}var G=(az?ax*12:W*12+af);for(var au=1;au<=G;au++){aA=au-1;aZ=aN;aa=ac;bm=0;a3=0;if(x&&(bc<=au)){if(w==KJE.Default.PREPAY_ONETIME&&bc==au){bm=Q}else{if(w==KJE.Default.PREPAY_YEARLY){if(((au-bc)%12)==0){bm=Q}}else{if(w==KJE.Default.PREPAY_MONTHLY){bm=Q}}}}aw=aH.round(v*aQ,2);if(ad&&au<=aL){aa=aw}bo=aH.round(v*(aQ>aV?aV:aQ),2);aq=(ad&&au<aL?0:aa-aw);aQ-=aq;if(aQ==0){aa=0;aq=0;aw=0}else{if(aQ<0||(aQ>0.005&&G==au&&!az)){aq+=aQ;aQ=0;aa=aq+aw}else{if(G==au&&!az){aQ=0}}}aX=aH.round(v*bp,2);if(ad&&au<=aL){aZ=aX}u=aH.round(v*(bp>aV?aV:bp),2);if(ad&&au<aL){if(bp==0){aZ=0;aG=0;aX=0;bm=0}else{aG=aZ-aX;bp-=aG+bm;if(bp<0){bm+=bp;bp=0}}}else{aG=aZ-aX;bp-=aG+bm;if(bp==0){aZ=0;aG=0;aX=0;bm=0}else{if(bp<0){bm+=bp;if(bm<0){aG+=bm;bm=0}bp=0;aZ=aG+aX}else{if(bp>0.005&&G==au&&!az){aG+=bp;bp=0;aZ=aG+aX}else{if(G==au&&!az){bp=0}}}}}if(aZ<0){aZ=0}if(bp==0&&aT==0){ag=au;aT=W*12+af-au}bu+=aX;ab+=u;F+=aG;ar+=aZ;K+=bm;av+=aZ+bm;R+=aX;A+=aw;bt+=bo;bv+=aq;L+=aa;ay+=aa;ak+=aw;if((au%12)==0){if(au==12){bg=A;e=bu;aP=(P/100*(E+bt+a0));a3=aP}else{a0*=1+D;a3=((P/100)*(bt+a0))}bs+=a3;bt=0;ab=0;a3=0}if(az&&G==au){aK=aQ+aa;aQ=0;d=bp+aZ+bm;bp=0;ay-=aa;av-=bm+aZ}if(!al&&h){if(x){am.addRepeat(aH.number(au),aH.dollars((az&&G==au?aK:aa),2),aH.dollars(aw,2),aH.dollars(aQ,2),aH.dollars((az&&G==au?d:bm+aZ),2),aH.dollars(aX,2),aH.dollars(bp,2))}else{am.addRepeat(aH.number(au),aH.dollars((az&&G==au?aK:aa),2),aH.dollars((az&&G==au?aK-aw:aq),2),aH.dollars(aw,2),aH.dollars(aQ,2))}}if((au%12)==0){z[ap]=""+ap;if(az&&G==au){aD[ap]=d;aJ[ap]=aK}else{aD[ap]=bp;aJ[ap]=aQ}aY[ap]=A;a4[ap]=(az&&G==au?aK-aa+L:L);ap+=1;if(al&&h){if(x){am.addRepeat(aH.number(au/12),aH.dollars((az&&G==au?aK-aa+L:L),2),aH.dollars(A,2),aH.dollars(aQ,2),aH.dollars((az&&G==au?d-bm-aZ+ar+K:ar+K),2),aH.dollars(bu,2),aH.dollars(bp,2))}else{am.addRepeat(aH.number((au/12)),aH.dollars((az&&G==au?aK-aa+L:L),2),aH.dollars((az&&G==au?aK+bv-aw-aq:bv),2),aH.dollars(A,2),aH.dollars(aQ,2))}}A=0;bt=0;bv=0;L=0;bu=0;ab=0;F=0;ar=0;K=0}if((au==aL)||((au<m?1:(au-m)%aO)==0&&au!=1&&b&&au!=W*12+af&&M!=0&&au>=m)){ao+=M/100;if(ao>V/100){ao=V/100}if(ao<0.02){ao=0.02}if(ao!=br||(au==aL)){br=ao;v=ao/12;aN=aH.round(KJE.PMT(v,W*12+af-au,bp),2);ac=aH.round(KJE.PMT(v,W*12+af-au,aQ),2);if(S==0){S=ac}T=ac;if(ba<ac){ba=ac}if(b&&M!=0){H.addRepeat(au+1,aH.percent(ao,2),aH.dollars(ac,2))}}}}if(b&&M!=0){j=H.getRepeat();H.clearRepeat()}this.PREPAY_SHORTEN_TOTAL_MONTHS=aT;bj=(aT/12);aT=(aT%12);bq=this.MSG_PREPAY_MESSAGE;bk=(bs/(W+af/12));p=aQ;bh=bp;av=R+a7-bh;ay=ak+a7-p;var an=1;if(x){an=2}var aM=this.DS_INTEREST=new Array(an);var a=this.DS_PRINCIPAL=new Array(an);var ai=this.totalpaid_cats=new Array(an);aM[0]=ak;a[0]=a7-p;ai[0]=this.MSG_NORMAL_PAYMENTS;if(x){aM[1]=R;a[1]=a7-bh;ai[1]=this.MSG_PREPAYMENTS;a1=ak-R}this.cats=z;this.sReturnMessage=N;this.MARGINAL_TAX_RATE=P;this.ADJUSTABLE_AFTER_FIRST_ADJ=S;this.ADJUSTABLE_PAYMENT_AMTS=j;this.ADJUSTABLE_RATE_HIGHEST=ba;this.AVG_TAX_SAVINGS=bk;this.DISCOUNT_POINTS_AMT=E;this.ENDING_BALANCE=p;this.FIRST_MONTH_INTEREST=ah;this.FIRST_MONTH_PRINCIPAL=aB;this.FIRST_YEAR_INTEREST=bg;this.FIRST_YEAR_TAX_SAVINGS=aP;this.FULLY_INDEX_RATE=g;this.FULLY_INDEXED_PAYMENT=T;this.INTEREST_PAID=ak;this.LOAN_APR=bl;this.LOAN_APR_AFT=be;this.LOAN_APR_AMOUNT=c;this.LOAN_APR_PAYMENT=bf;this.LOAN_TO_VALUE=aS;this.MONTHLY_HOME_INSURANCE=bb;this.MONTHLY_PI=l;this.MONTHLY_PITI=o;this.MONTHLY_PROPERTY_TAXES=f;this.MONTHLY_HOME_ASSOCIATION=MONTHLY_HOME_ASSOCIATION;this.MONTHS=af;this.ORIGINATION_FEES_AMT=aI;this.PREPAY_ENDING_BALANCE=bh;this.PREPAY_FIRST_YEAR_INTEREST=e;this.PREPAY_INTEREST_PAID=R;this.PREPAY_INTEREST_SAVINGS=a1;this.PREPAY_MESSAGE=bq;this.PREPAY_PAYOFF_MONTHS=ag;this.PREPAY_SHORTEN_MONTHS=aT;this.PREPAY_SHORTEN_YEARS=bj;this.PREPAY_TOTAL_OF_PAYMENTS=av;this.PREPAY_TOTAL_VALUE=a9;this.PREPAY_TOTAL_VALUE_AFTX=bd;this.TAX_ADJ_RATE=bi;this.TOTAL_CLOSING_COSTS=bw;this.TOTAL_OF_PAYMENTS=ay;this.OTHER_FEES=Y;this.BALLOON_PAYMENT=aK;this.PREPAY_BALLOON_PAYMENT=d;this.REGULAR_PAYMENTS=aH.input(this.TERM_BALLOON*12-1);this.MONTHLY_PMI=U;this.MONTH_PMI_EXEMPT=(a8>=a6);this.LOAN_AMOUNT=a7;if(this.bMAPR>0){if(bl>0.36){throw KJE.replace("KJE1",aH.percent(bl,3),this.MSG_ERROR_MAPR)}}};KJE.MortgageLoanCalculation.prototype.formatReport=function(b){for(var a=0;a<this.OTHER_FEES_MAPR.length;a++){b.dollars("OTHER_FEES_MAPR"+(a+1),this.OTHER_FEES_MAPR[a])}b.year("FIXED_YEARS",this.ADJUSTABLE_RATE_FIXED/12);b.year("ADJUSTABLE_YEARS",this.TERM+this.MONTHS/12-this.ADJUSTABLE_RATE_FIXED/12);b.year("RECAST_TO_AMORTIZE_YEARS",this.RECAST_TO_AMORTIZE/12);b.number("RECAST_TO_AMORTIZE",this.RECAST_TO_AMORTIZE);b.number("REMAIN_AFTER_AMORTIZE",this.TERM*12+this.MONTHS-this.RECAST_TO_AMORTIZE);b.replace("MSG_TERM",this.MSG_TERM);b.replace("RESULT_MESSAGE",this.sReturnMessage);b.year("YEARS_IN_HOME",this.YEARS_IN_HOME);b.dollars("YEARLY_PROPERTY_TAXES",this.YEARLY_PROPERTY_TAXES);b.dollars("YEARLY_HOME_INSURANCE",this.YEARLY_HOME_INSURANCE);b.dollars("TOTAL_CLOSING_COSTS",this.TOTAL_CLOSING_COSTS);b.number("TERM_BALLOON",this.TERM_BALLOON);if(this.MONTHS>0){b.number("TERM",this.TERM*12+this.MONTHS);b.replace("years","months")}else{b.number("TERM",this.TERM)}b.taxRate("TAX_ADJ_RATE",this.TAX_ADJ_RATE);b.returnRate("SAVINGS_RATE",this.SAVINGS_RATE/100);b.dollars("PURCHASE_PRICE",this.PURCHASE_PRICE);b.dollars("DOWNPAYMENT",this.DOWNPAYMENT);b.number("ADJUSTABLE_RATE_FEQ",this.ADJUSTABLE_RATE_FEQ);b.percent("ADJUSTABLE_RATE_INCR",this.ADJUSTABLE_RATE_INCR/100,2);b.percent("ADJUSTABLE_RATE_CAP",this.ADJUSTABLE_RATE_CAP/100,3);b.replace("ADJUSTABLE_PAYMENT_AMTS",this.ADJUSTABLE_PAYMENT_AMTS);b.dollars("ADJUSTABLE_RATE_HIGHEST",this.ADJUSTABLE_RATE_HIGHEST);b.dollars("ADJUSTABLE_AFTER_FIRST_ADJ",this.ADJUSTABLE_AFTER_FIRST_ADJ);b.number("ADJUSTABLE_RATE_FIXED",this.ADJUSTABLE_RATE_FIXED);b.percent("RATE_INDEX_MARGIN",this.RATE_INDEX_MARGIN/100,3);b.percent("RATE_INDEX",this.RATE_INDEX/100,3);b.yesno("ADJUSTABLE_RATE",this.ADJUSTABLE_RATE);b.replace("REGULAR_PAYMENTS",this.REGULAR_PAYMENTS);if(this.PREPAY_TYPE==KJE.Default.PREPAY_NONE){b.replace("PREPAY_MESSAGE","");b.replace("PREPAY_TYPE",this.PREPAY_TYPE);b.replace("PREPAY_TOTAL_VALUE_AFTX","");b.replace("PREPAY_TOTAL_VALUE","");b.replace("PREPAY_TOTAL_OF_PAYMENTS","");b.replace("PREPAY_SHORTEN_TERM","");b.replace("PREPAY_STARTS_WITH","");b.replace("PREPAY_SHORTEN_YEARS","");b.replace("PREPAY_SHORTEN_MONTHS","");b.replace("PREPAY_INTEREST_SAVINGS","");b.replace("PREPAY_INTEREST_PAID","");b.replace("PREPAY_FIRST_YEAR_INTEREST","");b.replace("PREPAY_AMOUNT","");b.replace("PREPAY_ENDING_BALANCE","");b.replace("PREPAY_BALLOON_PAYMENT","");b.replace("PREPAY_PAYOFF_PERIODS","")}else{b.replace("PREPAY_MESSAGE",this.PREPAY_MESSAGE);b.replace("PREPAY_TYPE",KJE.Default.PREPAY_PERIODS[this.PREPAY_TYPE]);b.dollars("PREPAY_TOTAL_VALUE_AFTX",this.PREPAY_TOTAL_VALUE_AFTX);b.dollars("PREPAY_TOTAL_VALUE",this.PREPAY_TOTAL_VALUE);b.dollars("PREPAY_TOTAL_OF_PAYMENTS",this.PREPAY_TOTAL_OF_PAYMENTS);b.number("PREPAY_STARTS_WITH",this.PREPAY_STARTS_WITH);b.replace("PREPAY_SHORTEN_TERM",KJE.getTermLabel(this.PREPAY_SHORTEN_TOTAL_MONTHS));b.year("PREPAY_SHORTEN_YEARS",this.PREPAY_SHORTEN_YEARS);b.number("PREPAY_SHORTEN_MONTHS",this.PREPAY_SHORTEN_MONTHS);b.dollars("PREPAY_INTEREST_SAVINGS",this.PREPAY_INTEREST_SAVINGS);b.dollars("PREPAY_INTEREST_PAID",this.PREPAY_INTEREST_PAID);b.dollars("PREPAY_FIRST_YEAR_INTEREST",this.PREPAY_FIRST_YEAR_INTEREST);b.dollars("PREPAY_AMOUNT",this.PREPAY_AMOUNT);b.dollars("PREPAY_ENDING_BALANCE",this.PREPAY_ENDING_BALANCE);b.dollars("PREPAY_BALLOON_PAYMENT",this.PREPAY_BALLOON_PAYMENT);b.replace("PREPAY_PAYOFF_PERIODS",KJE.getTermLabel(this.PREPAY_PAYOFF_MONTHS))}b.dollars("OTHER_FEES",this.OTHER_FEES);b.percent("ORIGINATION_FEES_PERCENT",this.ORIGINATION_FEES_PERCENT/100,2);b.dollars("ORIGINATION_FEES_AMT",this.ORIGINATION_FEES_AMT);b.dollars("MONTHLY_PROPERTY_TAXES",this.MONTHLY_PROPERTY_TAXES);b.dollars("MONTHLY_HOME_ASSOCIATION",this.MONTHLY_HOME_ASSOCIATION);b.dollars("MONTHLY_PITI",this.MONTHLY_PITI);b.dollars("MONTHLY_PMI",this.MONTHLY_PMI);b.dollars("MONTHLY_PI",this.MONTHLY_PI);b.dollars("MONTHLY_HOME_INSURANCE",this.MONTHLY_HOME_INSURANCE);b.taxRate("MARGINAL_TAX_RATE",this.MARGINAL_TAX_RATE/100);b.taxRate("FEDERAL_TAX_RATE",this.FEDERAL_TAX_RATE/100);b.taxRate("STATE_TAX_RATE",this.STATE_TAX_RATE/100);b.percent("LOAN_TO_VALUE",this.LOAN_TO_VALUE,2);b.percent("LOAN_APR_AFT",this.LOAN_APR_AFT,3);b.dollars("LOAN_APR_PAYMENT",this.LOAN_APR_PAYMENT);b.dollars("LOAN_APR_AMOUNT",this.LOAN_APR_AMOUNT);b.percent("LOAN_APR",this.LOAN_APR,3);b.dollars("LOAN_AMOUNT",this.LOAN_AMOUNT);b.loanRate("INTEREST_RATE",this.INTEREST_RATE/100);b.dollars("INTEREST_PAID",this.INTEREST_PAID);b.inflationRate("INFLATION_RATE",this.INFLATION_RATE/100);b.dollars("FIRST_YEAR_TAX_SAVINGS",this.FIRST_YEAR_TAX_SAVINGS);b.dollars("FIRST_YEAR_INTEREST",this.FIRST_YEAR_INTEREST);b.dollars("FIRST_MONTH_PRINCIPAL",this.FIRST_MONTH_PRINCIPAL);b.dollars("FIRST_MONTH_INTEREST",this.FIRST_MONTH_INTEREST);b.number("DISCOUNT_POINTS_PERCENT",this.DISCOUNT_POINTS_PERCENT,2);b.dollars("DISCOUNT_POINTS_AMT",this.DISCOUNT_POINTS_AMT);b.dollars("AVG_TAX_SAVINGS",this.AVG_TAX_SAVINGS);b.dollars("TOTAL_OF_PAYMENTS",this.TOTAL_OF_PAYMENTS);b.dollars("ENDING_BALANCE",this.ENDING_BALANCE);b.dollars("BALLOON_PAYMENT",this.BALLOON_PAYMENT);b.dollars("FULLY_INDEXED_PAYMENT",this.FULLY_INDEXED_PAYMENT);b.dollars("MORTGAGE_TAX_DEDUCT_MAX_BALANCE",KJE.Default.MORTGAGE_TAX_DEDUCT_MAX_BALANCE);b.yesno("INTEREST_ONLY",this.INTEREST_ONLY?1:0);b.replace("CHECKBOX_BY_MONTH",(this.BY_YEAR?"":"CHECKED"));b.replace("CHECKBOX_BY_YEAR",(this.BY_YEAR?"CHECKED":""));b.replace("**REPEATING GROUP**",this.sSchedule.getRepeat())};KJE.MortgageLoanCalculation.prototype.getCategories=function(){return this.cats};KJE.MortgageLoanCalculation.prototype.getAmountPaidCategories=function(){return this.totalpaid_cats};KJE.MortgageLoanCalculation.APRAdjustable=function(t,q,d,k,s,j,c,f,l){var b=q;var p=k/12;var r=p;var h=KJE.PMT(p,t,b);var g=0;var e=new Array();e[0]=Math.round(100*(-q+d));for(var o=1;o<=t;o++){b-=h-(p*b);g+=h;e[o]=Math.round(100*h);if((o<s?1:(o-s)%j)==0&&o!=1&&o!=t){var m=c/12;if(m>(r+f)){m=r+f}if(m>l/12){m=l/12}if(m!=r){r=m;p=m;h=KJE.PMT(p,t-o,b)}}}var a=(c>k?c:k);return(KJE.MortgageLoanCalculation.IRR(e,a/12)*12)};KJE.MortgageLoanCalculation.IRR=function(f,e){var c=e/2;var b;var d=f.length;while(true){b=0;for(var a=0;a<d;a++){b+=f[a]/Math.pow((1+e),a)}if(b>-1&&b<1){break}e+=(b>0?c:-c);c=c/2}return e};KJE.Default.MORTGAGE_TAX_DEDUCT_MAX_BALANCE=750000;KJE.Default.PREPAY_NONE=0;KJE.Default.PREPAY_WEEKLY=1;KJE.Default.PREPAY_BIWEEKLY=2;KJE.Default.PREPAY_2XMONTHLY=3;KJE.Default.PREPAY_MONTHLY=4;KJE.Default.PREPAY_YEARLY=5;KJE.Default.PREPAY_ONETIME=6;KJE.Default.PREPAY_FREQUENCY=[0,52,26,24,12,1,0];[];KJE.Default.getPrepayDrop=function(c,b,g){KJE.Default.PREPAY_PERIOD_IDs=KJE.parameters.get("ARRAY_PREPAY_PERIOD_ID",[KJE.Default.PREPAY_NONE,KJE.Default.PREPAY_MONTHLY,KJE.Default.PREPAY_YEARLY,KJE.Default.PREPAY_ONETIME]);KJE.Default.PREPAY_PERIODS=KJE.parameters.get("ARRAY_PREPAY_PERIODS",[KJE.parameters.get("MSG_PREPAY_NONE","none"),"Weekly","bi-weekly","semi-monthly",KJE.parameters.get("MSG_PREPAY_MONTHLY","monthly"),KJE.parameters.set("MSG_PREPAY_YEARLY","yearly"),KJE.parameters.get("MSG_PREPAY_ONETIME","one-time")]);var a=KJE.Default.PREPAY_PERIOD_IDs;var f=a.length;var e=KJE.Default.PREPAY_PERIODS;var d=new Array(f);for(i=0;i<f;i++){d[i]=e[a[i]]}return KJE.getDropBox(c,KJE.parameters.get(c,(!b?KJE.Default.PAY_LOAN_IDs:b)),a,d,g)};KJE.MortgageCompareCalc=function(){this.TERM15_TERM=KJE.parameters.get("TERM15_TERM",15);this.TERM30_TERM=KJE.parameters.get("TERM30_TERM",30);this.RC=new KJE.MortgageLoanCalculation();this.DS_TERM15_PAYMENT=KJE.FloatArray(1);this.DS_TERM30_PAYMENT=KJE.FloatArray(1);this.cats=["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"];this.payments=[KJE.parameters.get("MSG_AXIS_LABEL","Monthly Principal & Interest Payment")];this.sSchedule=new KJE.Repeating()};KJE.MortgageCompareCalc.prototype.clear=function(){this.TERM15_INTEREST_RATE=0;this.TERM30_INTEREST_RATE=0;this.MARGINAL_TAX_RATE=0;this.LOAN_AMOUNT=0;this.YEARS_IN_HOME=0;this.SAVINGS_RATE=0;this.BY_YEAR=1};KJE.MortgageCompareCalc.prototype.calculate=function(l){var c=KJE;var g=this.RC;var j=this.TERM15_INTEREST_RATE;var a=this.TERM30_INTEREST_RATE;var d=this.MARGINAL_TAX_RATE;var e=this.LOAN_AMOUNT;var k=this.YEARS_IN_HOME;var h=this.SAVINGS_RATE;var f=this.BY_YEAR;g.clear();g.bWithSchedule=true;g.TERM=this.TERM15_TERM;g.INTEREST_RATE=j;g.MARGINAL_TAX_RATE=d;g.LOAN_AMOUNT=e;g.YEARS_IN_HOME=k;g.SAVINGS_RATE=h;g.BY_YEAR=f;g.calculate();this.TERM15_INTEREST_PAID=g.INTEREST_PAID;this.TERM15_TOTAL_OF_PAYMENTS=g.TOTAL_OF_PAYMENTS;this.TERM15_MONTHLY_PI=g.MONTHLY_PI;this.TERM15_FIRST_MONTH_INTEREST=g.FIRST_MONTH_INTEREST;this.TERM15_FIRST_MONTH_PRINCIPAL=g.FIRST_MONTH_PRINCIPAL;this.TERM15_AVG_TAX_SAVINGS=g.AVG_TAX_SAVINGS;this.TERM15_TAX_ADJ_RATE=g.TAX_ADJ_RATE;this.TERM15_FIRST_YEAR_INTEREST=g.FIRST_YEAR_INTEREST;this.TERM15_FIRST_YEAR_TAX_SAVINGS=g.FIRST_YEAR_TAX_SAVINGS;this.DS_TERM15_PAYMENTS=g.DS_PAYMENTS;this.DS_TERM15_INTEREST_PAID=g.DS_INTEREST_PAID;this.DS_TERM15_PRINCIPAL_BAL=g.DS_PRINCIPAL_BAL;for(var b=this.TERM15_TERM+1;b<=this.TERM30_TERM;b++){this.DS_TERM15_PRINCIPAL_BAL[b]=0;this.DS_TERM15_PAYMENTS[b]=0;this.DS_TERM15_INTEREST_PAID[b]=0}g.clear();g.bWithSchedule=true;g.TERM=this.TERM30_TERM;g.INTEREST_RATE=a;g.MARGINAL_TAX_RATE=d;g.LOAN_AMOUNT=e;g.YEARS_IN_HOME=k;g.SAVINGS_RATE=h;g.BY_YEAR=f;g.calculate();this.TERM30_INTEREST_PAID=g.INTEREST_PAID;this.TERM30_TOTAL_OF_PAYMENTS=g.TOTAL_OF_PAYMENTS;this.TERM30_MONTHLY_PI=g.MONTHLY_PI;this.TERM30_FIRST_MONTH_INTEREST=g.FIRST_MONTH_INTEREST;this.TERM30_FIRST_MONTH_PRINCIPAL=g.FIRST_MONTH_PRINCIPAL;this.TERM30_AVG_TAX_SAVINGS=g.AVG_TAX_SAVINGS;this.TERM30_TAX_ADJ_RATE=g.TAX_ADJ_RATE;this.TERM30_FIRST_YEAR_INTEREST=g.FIRST_YEAR_INTEREST;this.TERM30_FIRST_YEAR_TAX_SAVINGS=g.FIRST_YEAR_TAX_SAVINGS;this.DS_TERM30_PRINCIPAL_BAL=g.DS_PRINCIPAL_BAL;this.DS_TERM30_PAYMENTS=g.DS_PAYMENTS;this.DS_TERM30_INTEREST_PAID=g.DS_INTEREST_PAID;this.PAYMENT_DIFFERENCE=this.TERM15_MONTHLY_PI-this.TERM30_MONTHLY_PI;this.INTEREST_DIFFERENCE=this.TERM30_INTEREST_PAID-this.TERM15_INTEREST_PAID;this.DS_TERM15_PAYMENT[0]=this.TERM15_MONTHLY_PI;this.DS_TERM30_PAYMENT[0]=this.TERM30_MONTHLY_PI;if(l){var m=this.sSchedule;m.clearRepeat();m.addHeader("&nbsp;",{sCell:KJE._sHeadingUnderline,sContent:m.sReportCol(c.number(this.TERM15_TERM)+" Mortgage Term",1),sFormat:"COLSPAN=3"},{sCell:KJE._sHeadingUnderline,sContent:m.sReportCol(c.number(this.TERM30_TERM)+" Mortgage Term",2),sFormat:"COLSPAN=3"});m.addHeader(m.sReportCol("Year",3),m.sReportCol("Payments",4),m.sReportCol("Interest",5),m.sReportCol("Balance",6),m.sReportCol("Payments",4),m.sReportCol("Interest",5),m.sReportCol("Balance",6));m.addRepeat("&nbsp;","&nbsp;","&nbsp;",c.dollars(this.DS_TERM15_PRINCIPAL_BAL[0],2),"&nbsp;","&nbsp;",c.dollars(this.DS_TERM30_PRINCIPAL_BAL[0],2));for(var b=0;b<this.TERM30_TERM;b++){if(b<this.TERM15_TERM){m.addRepeat(c.number(b+1),c.dollars(this.DS_TERM15_PAYMENTS[b+1],2),c.dollars(this.DS_TERM15_INTEREST_PAID[b+1],2),c.dollars(this.DS_TERM15_PRINCIPAL_BAL[b+1],2),c.dollars(this.DS_TERM30_PAYMENTS[b+1],2),c.dollars(this.DS_TERM30_INTEREST_PAID[b+1],2),c.dollars(this.DS_TERM30_PRINCIPAL_BAL[b+1],2))}else{m.addRepeat(c.number(b+1),c.dollars(0,2),c.dollars(0,2),c.dollars(0,2),c.dollars(this.DS_TERM30_PAYMENTS[b+1],2),c.dollars(this.DS_TERM30_INTEREST_PAID[b+1],2),c.dollars(this.DS_TERM30_PRINCIPAL_BAL[b+1],2))}}}};KJE.MortgageCompareCalc.prototype.formatReport=function(a){a.loanRate("TERM15_INTEREST_RATE",this.TERM15_INTEREST_RATE/100);a.loanRate("TERM30_INTEREST_RATE",this.TERM30_INTEREST_RATE/100);a.taxRate("MARGINAL_TAX_RATE",this.MARGINAL_TAX_RATE/100);a.dollars("LOAN_AMOUNT",this.LOAN_AMOUNT);a.year("YEARS_IN_HOME",this.YEARS_IN_HOME);a.returnRate("SAVINGS_RATE",this.SAVINGS_RATE/100);a.dollars("TERM15_INTEREST_PAID",this.TERM15_INTEREST_PAID);a.dollars("TERM15_TOTAL_OF_PAYMENTS",this.TERM15_TOTAL_OF_PAYMENTS);a.dollars("TERM15_MONTHLY_PI",this.TERM15_MONTHLY_PI);a.dollars("TERM15_FIRST_MONTH_INTEREST",this.TERM15_FIRST_MONTH_INTEREST);a.dollars("TERM15_FIRST_MONTH_PRINCIPAL",this.TERM15_FIRST_MONTH_PRINCIPAL);a.dollars("TERM15_AVG_TAX_SAVINGS",this.TERM15_AVG_TAX_SAVINGS);a.taxRate("TERM15_TAX_ADJ_RATE",this.TERM15_TAX_ADJ_RATE);a.dollars("TERM15_FIRST_YEAR_INTEREST",this.TERM15_FIRST_YEAR_INTEREST);a.dollars("TERM15_FIRST_YEAR_TAX_SAVINGS",this.TERM15_FIRST_YEAR_TAX_SAVINGS);a.dollars("TERM30_INTEREST_PAID",this.TERM30_INTEREST_PAID);a.dollars("TERM30_TOTAL_OF_PAYMENTS",this.TERM30_TOTAL_OF_PAYMENTS);a.dollars("TERM30_MONTHLY_PI",this.TERM30_MONTHLY_PI);a.dollars("TERM30_FIRST_MONTH_INTEREST",this.TERM30_FIRST_MONTH_INTEREST);a.dollars("TERM30_FIRST_MONTH_PRINCIPAL",this.TERM30_FIRST_MONTH_PRINCIPAL);a.dollars("TERM30_AVG_TAX_SAVINGS",this.TERM30_AVG_TAX_SAVINGS);a.taxRate("TERM30_TAX_ADJ_RATE",this.TERM30_TAX_ADJ_RATE);a.dollars("TERM30_FIRST_YEAR_INTEREST",this.TERM30_FIRST_YEAR_INTEREST);a.dollars("TERM30_FIRST_YEAR_TAX_SAVINGS",this.TERM30_FIRST_YEAR_TAX_SAVINGS);a.dollars("INTEREST_DIFFERENCE",this.INTEREST_DIFFERENCE);a.dollars("PAYMENT_DIFFERENCE",this.PAYMENT_DIFFERENCE);a.replace("**REPEATING GROUP**",this.sSchedule.getRepeat())};KJE.CalcName="15 vs. 30-Year Mortgage";KJE.CalcType="mortgagecompare";KJE.CalculatorTitleTemplate="15-year term saves you KJE1, but is KJE2 more per month";KJE.initialize=function(){KJE.CalcControl=new KJE.MortgageCompareCalc();KJE.GuiControl=new KJE.MortgageCompare(KJE.CalcControl)};KJE.MortgageCompare=function(j){var e=KJE;var b=KJE.gLegend;var f=KJE.inputs.items;this.MSG_MONTHLY_PAYMENTS=KJE.parameters.get("MSG_MONTHLY_PAYMENTS","Monthly Payments");this.MSG_PRINCIPAL_BALANCE=KJE.parameters.get("MSG_PRINCIPAL_BALANCE","Principal Balance by Year");this.MSG_YEAR_NUMBER=KJE.parameters.get("MSG_YEAR_NUMBER","Year Number");this.MSG_TERM15=KJE.parameters.get("MSG_TERM15","15-Year");this.MSG_TERM30=KJE.parameters.get("MSG_TERM30","30-Year");KJE.PercentSlider("MARGINAL_TAX_RATE","Your marginal tax rate",0,60,2);KJE.MortgageAmtSlider("LOAN_AMOUNT","Mortgage amount");KJE.InputItem.AltHelpName="INTEREST_RATE";KJE.MortgageRateSlider("TERM15_INTEREST_RATE","Interest rate for 15 years");KJE.InputItem.AltHelpName="INTEREST_RATE";KJE.MortgageRateSlider("TERM30_INTEREST_RATE","Interest rate for 30 years");KJE.InputItem.AltHelpName="MONTHLY_PI";KJE.Label("TERM30_MONTHLY_PI","30-year monthly payment",null,null,"bold");KJE.InputItem.AltHelpName="MONTHLY_PI";KJE.Label("TERM15_MONTHLY_PI","15-year monthly payment",null,null,"bold");var g=KJE.gNewGraph(KJE.gCOLUMN,"GRAPH1",true,false,KJE.colorList[1],this.MSG_MONTHLY_PAYMENTS);g._showItemLabelOnTop=true;g._showItemLabel=true;g._axisX._fSpacingPercent=0.5;g._grid._showYGridLines=false;g._legend._iOrientation=b.TOP_RIGHT;var h=KJE.gNewGraph(KJE.gLINE,"GRAPH2",true,true,KJE.colorList[1],this.MSG_PRINCIPAL_BALANCE);h._legend._iOrientation=b.TOP_RIGHT;h._titleXAxis.setText(this.MSG_YEAR_NUMBER);var a=KJE.parameters.get("MSG_DROPPER_TITLE","Mortgage Inputs");var c=KJE.parameters.get("MSG_DROPPER_CLOSETITLE","Loan amount of KJE1, 15-year interest rate KJE2, 30-year interest rate KJE3");var d=function(){return a+KJE.subText(KJE.getKJEReplaced(c,f.LOAN_AMOUNT.getFormatted(),f.TERM15_INTEREST_RATE.getFormatted(),f.TERM30_INTEREST_RATE.getFormatted()),"KJECenter")};KJE.addDropper(new KJE.Dropper("INPUTS",true,a,d),KJE.colorList[0])};KJE.MortgageCompare.prototype.setValues=function(b){var a=KJE.inputs.items;b.TERM15_INTEREST_RATE=a.TERM15_INTEREST_RATE.getValue();b.TERM30_INTEREST_RATE=a.TERM30_INTEREST_RATE.getValue();b.MARGINAL_TAX_RATE=a.MARGINAL_TAX_RATE.getValue();b.LOAN_AMOUNT=a.LOAN_AMOUNT.getValue();b.BY_YEAR=true};KJE.MortgageCompare.prototype.refresh=function(f){var e=KJE;var d=KJE.gLegend;var b=KJE.inputs.items;var a=KJE.gGraphs[0];var c=KJE.gGraphs[1];KJE.setTitleTemplate(e.dollars(f.INTEREST_DIFFERENCE),e.dollars(f.PAYMENT_DIFFERENCE));a.removeAll();a.setGraphCategories(f.payments);a.add(new KJE.gGraphDataSeries(f.DS_TERM15_PAYMENT,this.MSG_TERM15,a.getColor(1)));a.add(new KJE.gGraphDataSeries(f.DS_TERM30_PAYMENT,this.MSG_TERM30,a.getColor(2)));a.paint();c.removeAll();c.setGraphCategories(f.cats);c.add(new KJE.gGraphDataSeries(f.DS_TERM15_PRINCIPAL_BAL,this.MSG_TERM15,a.getColor(1)));c.add(new KJE.gGraphDataSeries(f.DS_TERM30_PRINCIPAL_BAL,this.MSG_TERM30,a.getColor(2)));c.paint();b.TERM15_MONTHLY_PI.setText(e.dollars(f.TERM15_MONTHLY_PI,2));b.TERM30_MONTHLY_PI.setText(e.dollars(f.TERM30_MONTHLY_PI,2))};KJE.InputScreenText=" <div id=KJE-D-INPUTS><div id=KJE-P-INPUTS>Input information:</div></div> <div id=KJE-E-INPUTS > <div id='KJE-C-LOAN_AMOUNT'><input id='KJE-LOAN_AMOUNT' /></div> <div id='KJE-C-MARGINAL_TAX_RATE'><input id='KJE-MARGINAL_TAX_RATE' /></div> <div id='KJE-C-TERM15_INTEREST_RATE'><input id='KJE-TERM15_INTEREST_RATE' /></div> <div id='KJE-C-TERM15_TOTAL_OF_PAYMENTS'><div id='KJE-TERM15_TOTAL_OF_PAYMENTS'></div></div> <div id='KJE-C-TERM30_INTEREST_RATE'><input id='KJE-TERM30_INTEREST_RATE' /></div> <div id='KJE-C-TERM30_TOTAL_OF_PAYMENTS'><div id='KJE-TERM30_TOTAL_OF_PAYMENTS'></div></div> <div class=KJEDropperSpacer></div> <div id='KJE-C-TERM15_MONTHLY_PI'><div id='KJE-TERM15_MONTHLY_PI'></div></div> <div id='KJE-C-TERM30_MONTHLY_PI'><div id='KJE-TERM30_MONTHLY_PI'></div></div> <div class=KJEDropperSpacer></div> </div> **GRAPH1** **GRAPH2** ";KJE.DefinitionText=" <div id='KJE-D-LOAN_AMOUNT' ><dt>Mortgage amount</dt><dd>Original balance of your mortgage.</dd></div> <div id='KJE-D-INTEREST_RATE' ><dt>Interest rate</dt><dd>Annual interest rate for your mortgage. Interest rates are generally lower for shorter-term mortgages. Please note that the interest rate is different from the Annual Percentage Rate (APR), which includes other expenses such as mortgage insurance, and the origination fee and or point(s), which were paid when the mortgage was first originated. The APR is normally higher than the simple interest rate.</dd></div> <div id='KJE-D-MARGINAL_TAX_RATE' ><dt>Marginal tax rate</dt><dd>This is your combined state and federal tax rate. This is used to calculate possible income tax savings by deducting your mortgage interest. Please consult with a tax professional regarding mortgage interest deductions and your specific situation. **TAXTABLE_CURRENT_DEFINITION**</dd></div> <div id='KJE-D-MONTHLY_PI' ><dt>Monthly payment</dt><dd>Monthly principal and interest payment (PI). Both 30-year fixed and 15-year fixed mortgages are shown.</dd></div> <div id='KJE-D-TOTAL_OF_PAYMENTS' ><dt>Total payments</dt><dd>Total of all monthly payments made over the full term of the mortgage. Both 30-year fixed and 15-year fixed mortgages are shown.</dd></div> <div id='KJE-D-INTEREST_PAID' ><dt>Total interest</dt><dd>Total of all interest paid over the full term of the mortgage. Both 30-year fixed and 15-year fixed mortgages are shown.</dd></div> ";KJE.ReportText=' <!--HEADING "Mortgage Comparison: 15-years vs. 30-years" HEADING--> <h2 class=\'KJEReportHeader KJEFontHeading\'> Your monthly payment increases PAYMENT_DIFFERENCE with a 15-year fixed term, but you save INTEREST_DIFFERENCE in total interest paid over the life of the loan.</h2> A 15-year fixed mortgage term will save you INTEREST_DIFFERENCE in total interest paid, but increases your monthly payment by PAYMENT_DIFFERENCE. Total payments for a LOAN_AMOUNT, 15-year mortgage at TERM15_INTEREST_RATE are TERM15_TOTAL_OF_PAYMENTS. Total payments for the same loan with a 30-year mortgage at TERM30_INTEREST_RATE are TERM30_TOTAL_OF_PAYMENTS. **GRAPH** <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Mortgage Comparison</caption> <thead class=\'KJEReportTHeader\'> <tr class=KJEHeaderRow><td class="KJEHeading KJECell50">&nbsp;</td><th class="KJEHeading KJECell25" scope=\'col\'>15-year mortgage</th><th class="KJEHeading KJECell25" scope=\'col\'>30-year mortgage</th></tr> </thead> <tbody class=\'KJEReportTBody\'> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Loan amount</th><td class="KJECell KJECellBorder">LOAN_AMOUNT</td><td class="KJECell">LOAN_AMOUNT</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Interest rate</th><td class="KJECell KJECellBorder">TERM15_INTEREST_RATE</td><td class="KJECell">TERM30_INTEREST_RATE</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Monthly payment</th><td class="KJECell KJECellBorder">TERM15_MONTHLY_PI</td><td class="KJECell">TERM30_MONTHLY_PI</td></tr> </tbody> <tfoot class=\'KJEReportTFooter\'> <tr class=KJEFooterRow><th class="KJELabel KJECellBorder" scope=\'row\'>Total interest</th><td class="KJECell KJECellBorder">TERM15_INTEREST_PAID</td><td class="KJECell">TERM30_INTEREST_PAID</td></tr> <tr class=KJEFooterRow><th class="KJELabel KJECellBorder" scope=\'row\'>Total payments</th><td class="KJECell KJECellBorder">TERM15_TOTAL_OF_PAYMENTS</td><td class="KJECell">TERM30_TOTAL_OF_PAYMENTS</td></tr> </tfoot> </table> </div> <h2 class=\'KJEReportHeader KJEFontHeading\'>Interest and Income Taxes*</h2> Changing your mortgage term can make a difference in not only the interest you pay, but also your income taxes. A longer mortgage term may increase your income tax deduction, as illustrated below. <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Interest and Income Tax Comparison</caption> <thead class=\'KJEReportTHeader\'> <tr class=KJEHeaderRow><td class="KJEHeading KJECell50">&nbsp;</td><th class="KJEHeading KJECell25" scope=\'col\'>15-year mortgage</th><th class="KJEHeading KJECell25" scope=\'col\'>30-year mortgage</th></tr> </thead> <tbody class=\'KJEReportTBody\'> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>First month\'s interest</th><td class="KJECell KJECellBorder">TERM15_FIRST_MONTH_INTEREST </td><td class="KJECell">TERM30_FIRST_MONTH_INTEREST</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>First month\'s principal</th><td class="KJECell KJECellBorder">TERM15_FIRST_MONTH_PRINCIPAL</td><td class="KJECell">TERM30_FIRST_MONTH_PRINCIPAL</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>First year\'s interest</th><td class="KJECell KJECellBorder">TERM15_FIRST_YEAR_INTEREST</td><td class="KJECell">TERM30_FIRST_YEAR_INTEREST</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>First year\'s tax savings</th><td class="KJECell KJECellBorder">TERM15_FIRST_YEAR_TAX_SAVINGS</td><td class="KJECell">TERM30_FIRST_YEAR_TAX_SAVINGS</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Avg. year\'s tax savings</th><td class="KJECell KJECellBorder">TERM15_AVG_TAX_SAVINGS</td><td class="KJECell">TERM30_AVG_TAX_SAVINGS</td></tr> </tbody> </table> </div> **GRAPH** <h2 class=\'KJEScheduleHeader KJEFontHeading\'>Payment Schedule</h2> **REPEATING GROUP** <p>*Please consult with a tax professional regarding mortgage interest deductions and your specific situation.</p> ';
// 06/30/2024 Copyright 2024 KJE Computer Solutions, Inc.  Licensed for use on https://www.coastalstatesbank.com

